<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Given a list of tracklets containing cartesian coordinates of particles over time
and a dataframe containing the &quot;true&quot; (i.e., manually detected) coordinates of the particles, this function
compare the location of the particles performed manually and by the tracking software to return a list of
informations related to sensitivity analysis:

&quot;SensitivityStats&quot;: a dataframe containing 4 columns summarizing the sensitivity analysis results:

&quot;mean&quot;: the mean sensitivity index (if particles positions are compared to manual detection over several time units).
&quot;n&quot;: the number of sensitivity index performed.
&quot;sd&quot;: the standard deviation of the mean sensitivity index.
&quot;se&quot;: the standard error of the mean sensitivity index.

&quot;SensitivityDetails&quot;: a dataframe containing 2 columns which gives the detailed results of the sensitivity analyses:

&quot;sensitivity&quot;: the sensitivity indices computed over each time unit).
&quot;timeCol&quot;: the time unit at which each sensitivty index have been computed.

&quot;FalseNegative&quot;: a dataframe containing 3 columns which gives the position and time of manually detected particle's that have not been detected by the tracking method:

&quot;x.pos&quot;: the x position of the manually detected particle's that have not been detected by the tracking method (from refDat).
&quot;y.pos&quot;: the y position of the manually detected particle's that have not been detected by the tracking method (from refDat).
&quot;timeCol&quot;: the time unit at which manual detection have been performed (from refDat).

&quot;FalsePositive&quot;: a dataframe containing 10 columns which retrieves the informations of the particles that have been detected by the tracking method but is not truly present (i.e., not detected via manual observation):

&quot;see readCtrax,
readTrackR,
readTrex,
readIdtracker&quot;


"><title>Compute sensitivity index for particles detection. — evalSens • MoveR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Roboto-0.4.0/font.css" rel="stylesheet"><link href="../deps/_JetBrains%20Mono-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Roboto%20Slab-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute sensitivity index for particles detection. — evalSens"><meta property="og:description" content="Given a list of tracklets containing cartesian coordinates of particles over time
and a dataframe containing the &quot;true&quot; (i.e., manually detected) coordinates of the particles, this function
compare the location of the particles performed manually and by the tracking software to return a list of
informations related to sensitivity analysis:

&quot;SensitivityStats&quot;: a dataframe containing 4 columns summarizing the sensitivity analysis results:

&quot;mean&quot;: the mean sensitivity index (if particles positions are compared to manual detection over several time units).
&quot;n&quot;: the number of sensitivity index performed.
&quot;sd&quot;: the standard deviation of the mean sensitivity index.
&quot;se&quot;: the standard error of the mean sensitivity index.

&quot;SensitivityDetails&quot;: a dataframe containing 2 columns which gives the detailed results of the sensitivity analyses:

&quot;sensitivity&quot;: the sensitivity indices computed over each time unit).
&quot;timeCol&quot;: the time unit at which each sensitivty index have been computed.

&quot;FalseNegative&quot;: a dataframe containing 3 columns which gives the position and time of manually detected particle's that have not been detected by the tracking method:

&quot;x.pos&quot;: the x position of the manually detected particle's that have not been detected by the tracking method (from refDat).
&quot;y.pos&quot;: the y position of the manually detected particle's that have not been detected by the tracking method (from refDat).
&quot;timeCol&quot;: the time unit at which manual detection have been performed (from refDat).

&quot;FalsePositive&quot;: a dataframe containing 10 columns which retrieves the informations of the particles that have been detected by the tracking method but is not truly present (i.e., not detected via manual observation):

&quot;see readCtrax,
readTrackR,
readTrex,
readIdtracker&quot;


"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MoveR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--how-to">
    <span class="fas fa fas fa-book"></span>
     
    How To
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--how-to">
    <a class="dropdown-item" href="../articles/MoveR-ImportData.html">Import Data</a>
    <a class="dropdown-item" href="../articles/MoveR-Clean-FilterData.html">Clean/Filter Data</a>
    <a class="dropdown-item" href="../articles/MoveR-ComputeMetrics.html">Compute some metrics</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../NEWS.html">
    <span class="fas fa fas fa-history"></span>
     
    Changelog
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/qpetitjean/MoveR/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Compute sensitivity index for particles detection.</h1>
      <small class="dont-index">Source: <a href="https://github.com/qpetitjean/MoveR/blob/HEAD/R/evalSens.R" class="external-link"><code>R/evalSens.R</code></a></small>
      <div class="d-none name"><code>evalSens.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Given a list of tracklets containing cartesian coordinates of particles over time
and a dataframe containing the "true" (i.e., manually detected) coordinates of the particles, this function
compare the location of the particles performed manually and by the tracking software to return a list of
informations related to sensitivity analysis:</p>
<ul><li><p>"SensitivityStats": a dataframe containing 4 columns summarizing the sensitivity analysis results:
</p><ul><li><p>"mean": the mean sensitivity index (if particles positions are compared to manual detection over several time units).</p></li>
<li><p>"n": the number of sensitivity index performed.</p></li>
<li><p>"sd": the standard deviation of the mean sensitivity index.</p></li>
<li><p>"se": the standard error of the mean sensitivity index.</p></li>
</ul></li>
<li><p>"SensitivityDetails": a dataframe containing 2 columns which gives the detailed results of the sensitivity analyses:
</p><ul><li><p>"sensitivity": the sensitivity indices computed over each time unit).</p></li>
<li><p>"timeCol": the time unit at which each sensitivty index have been computed.</p></li>
</ul></li>
<li><p>"FalseNegative": a dataframe containing 3 columns which gives the position and time of manually detected particle's that have not been detected by the tracking method:
</p><ul><li><p>"x.pos": the x position of the manually detected particle's that have not been detected by the tracking method (from refDat).</p></li>
<li><p>"y.pos": the y position of the manually detected particle's that have not been detected by the tracking method (from refDat).</p></li>
<li><p>"timeCol": the time unit at which manual detection have been performed (from refDat).</p></li>
</ul></li>
<li><p>"FalsePositive": a dataframe containing 10 columns which retrieves the informations of the particles that have been detected by the tracking method but is not truly present (i.e., not detected via manual observation):
</p><ul><li><p>"see <code><a href="readCtrax.html">readCtrax</a></code>,
<code><a href="readTrackR.html">readTrackR</a></code>,
<code><a href="readTrex.html">readTrex</a></code>,
<code><a href="readIdtracker.html">readIdtracker</a></code>"</p></li>
</ul></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">evalSens</span><span class="op">(</span></span>
<span>  <span class="va">trackDat</span>,</span>
<span>  <span class="va">refDat</span>,</span>
<span>  radius <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  imgRes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  timeCol <span class="op">=</span> <span class="st">"frame"</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>trackDat</dt>
<dd><p>A list of data frame containing tracking information for each tracklet (i.e., x.pos, y.pos, frame).</p></dd>


<dt>refDat</dt>
<dd><p>A dataframe containing "true" x and y coordinates of the particles (e.g., manually detected using imageJ)
as well as a column specifying the time (e.g., frame). In case the the particles are located over several time unit
(i.e., location of particles for several frames), sensitivity index is averaged and Sd, Se and n are returned.</p></dd>


<dt>radius</dt>
<dd><p>A numeric value expressed in the same unit than x and y and corresponding to the radius of the circles
used to determine whether values are considered similar to those within the refDat or not (default = 20).</p></dd>


<dt>imgRes</dt>
<dd><p>A vector of 2 numeric values, the resolution of the video used as x and y limit of the plot (i.e., the number of pixels in image width and height).
If imgRes is unspecified, the function retrieve it using x and y maximum values + 5%.</p></dd>


<dt>timeCol</dt>
<dd><p>A character string corresponding to the name of the column containing time information (default = "frame")</p></dd>


<dt>progress</dt>
<dd><p>A logical value (i.e., TRUE or FALSE) indicating whether a progress bar should be displayed to inform process progression (default = TRUE).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of dataframes summarizing the results of the sensitivity analysis:</p><ul><li><p>"SensitivityStats": sensitivity index, n, standard deviation, standard error (sd, se are only computed if refDat contains particle's position over several time units).</p></li>
<li><p>"SensitivityDetails": a data frame containing detailed sensitivity index and time units on which test have been performed.</p></li>
<li><p>"FalseNegative": the list of the False negative (i.e., manually detected particle's that have not been detected by the tracking method.</p></li>
<li><p>"FalsePositive": the list of the false positive (i.e., the informations of the particles that have been detected by the tracking method but is not truly present (i.e., not detected via manual observation).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Quentin PETITJEAN</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Not run:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download the first dataset from the sample data repository</span></span></span>
<span class="r-in"><span><span class="va">Path2Data</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="DLsampleData.html">DLsampleData</a></span><span class="op">(</span>dataSet <span class="op">=</span> <span class="fl">1</span>, tracker <span class="op">=</span> <span class="st">"TRex"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Path2Data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpmYFHq7\\MoveR_SampleData-main\\sample_1\\TRexOutput"                                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpmYFHq7\\MoveR_SampleData-main\\sample_1\\ReferenceData\\DistMatrixFromArenaEdge_2602_ISA3080_Low_5.mov_1800.txt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpmYFHq7\\MoveR_SampleData-main\\sample_1\\ReferenceData\\RefDat_2602_ISA3080_Low_5.csv"                          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Import the list containing the 9 vectors classically used for further computation</span></span></span>
<span class="r-in"><span><span class="va">Data</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="readTrex.html">readTrex</a></span><span class="op">(</span><span class="va">Path2Data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                        flipY <span class="op">=</span> <span class="cn">T</span>,</span></span>
<span class="r-in"><span>                        imgHeight <span class="op">=</span> <span class="fl">2160</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert it to a list of tracklets</span></span></span>
<span class="r-in"><span><span class="va">trackDat</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="convert2Tracklets.html">convert2Tracklets</a></span><span class="op">(</span><span class="va">Data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># load the reference dataset (a dataframe containing manually detected position of the particle's over time unit)</span></span></span>
<span class="r-in"><span><span class="va">refDat</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">Path2Data</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>           dec <span class="op">=</span> <span class="st">"."</span>,</span></span>
<span class="r-in"><span>           sep <span class="op">=</span> <span class="st">";"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># perform the sensitivity analysis </span></span></span>
<span class="r-in"><span><span class="co">## NB: here NAs are introduced because some tracklets in the raw data have Inf values in x and y.pos, which usually produce a warning message </span></span></span>
<span class="r-in"><span><span class="co">## here the warning has been silenced but in this case sensitivity analysis should be preceded by a filtering step to remove Inf values (see \code{\link{filterTracklets}})</span></span></span>
<span class="r-in"><span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"warn"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>warn <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sensitivity</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu">evalSens</span><span class="op">(</span></span></span>
<span class="r-in"><span>  refDat <span class="op">=</span> <span class="va">refDat</span>,</span></span>
<span class="r-in"><span>  trackDat <span class="op">=</span> <span class="va">trackDat</span>,</span></span>
<span class="r-in"><span>  radius <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  imgRes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3840</span>, <span class="fl">2160</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  timeCol <span class="op">=</span> <span class="st">"frame"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>warn <span class="op">=</span> <span class="va">w</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check the results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">sensitivity</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ SensitivityStats  :'data.frame':	1 obs. of  4 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ mean: num 0.863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ n   : int 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ sd  : num 0.0527</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ se  : num 0.0263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ SensitivityDetails:'data.frame':	4 obs. of  2 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ sensitivity: num [1:4] 0.867 0.8 0.857 0.929</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ frame      : int [1:4] 2700 5400 8100 10800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ FalseNegative     :'data.frame':	8 obs. of  3 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ x.pos: num [1:8] 2814 2577 155 965 1223 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ y.pos: num [1:8] 2096.3 81.9 1917.3 2081.1 2093.3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ frame: int [1:8] 2700 2700 5400 5400 5400 8100 8100 10800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ FalsePositive     :'data.frame':	2 obs. of  8 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ maj.ax    : num [1:2] 18 19.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ angle     : num [1:2] 1.4 1.73</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ min.ax    : num [1:2] NA NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ x.pos     : num [1:2] 199 3297</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ y.pos     : num [1:2] 934 891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ identity  : num [1:2] 4 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ frame     : num [1:2] 5400 8100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ trackletId: chr [1:2] "4" "3"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># visualize it</span></span></span>
<span class="r-in"><span><span class="co"># Draw the particle detected by the tracking method</span></span></span>
<span class="r-in"><span><span class="co"># and add the position of the good detections (darkgreen),</span></span></span>
<span class="r-in"><span><span class="co"># false negative and positive (red and blue, respectively)</span></span></span>
<span class="r-in"><span><span class="co"># at a given time unit</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## retrieve the frame at which the analysis has been performed</span></span></span>
<span class="r-in"><span><span class="va">TimeF</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">refDat</span><span class="op">[[</span><span class="st">"frame"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># display the results</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">TimeF</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="drawTracklets.html">drawTracklets</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">trackDat</span>,</span></span>
<span class="r-in"><span>    timeWin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"frame"</span>, <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, sep <span class="op">=</span> <span class="st">" "</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    colGrad <span class="op">=</span> <span class="st">"darkgrey"</span>,</span></span>
<span class="r-in"><span>    legend <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    add2It <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="circles.html">circles</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="va">refDat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">refDat</span><span class="op">[[</span><span class="st">"frame"</span><span class="op">]</span><span class="op">]</span> <span class="op">==</span> <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="st">"x.pos"</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>        <span class="va">refDat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">refDat</span><span class="op">[[</span><span class="st">"frame"</span><span class="op">]</span><span class="op">]</span> <span class="op">==</span> <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="st">"y.pos"</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>        border <span class="op">=</span> <span class="st">"darkgreen"</span>,</span></span>
<span class="r-in"><span>        radius <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>        Res <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>        lwd <span class="op">=</span> <span class="fl">1.5</span>,</span></span>
<span class="r-in"><span>        lty <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>      <span class="op">)</span>,</span></span>
<span class="r-in"><span>      <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sensitivity</span><span class="op">$</span><span class="va">FalseNegative</span><span class="op">$</span><span class="va">x</span><span class="op">[</span><span class="va">sensitivity</span><span class="op">$</span><span class="va">FalseNegative</span><span class="op">$</span><span class="va">frame</span> <span class="op">==</span> <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="circles.html">circles</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          x <span class="op">=</span> <span class="va">sensitivity</span><span class="op">$</span><span class="va">FalseNegative</span><span class="op">$</span><span class="va">x</span><span class="op">[</span><span class="va">sensitivity</span><span class="op">$</span><span class="va">FalseNegative</span><span class="op">$</span><span class="va">frame</span> <span class="op">==</span> <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>          y <span class="op">=</span> <span class="va">sensitivity</span><span class="op">$</span><span class="va">FalseNegative</span><span class="op">$</span><span class="va">y</span><span class="op">[</span><span class="va">sensitivity</span><span class="op">$</span><span class="va">FalseNegative</span><span class="op">$</span><span class="va">frame</span> <span class="op">==</span> <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>          border <span class="op">=</span> <span class="st">"red"</span>,</span></span>
<span class="r-in"><span>          radius <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>          Res <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>          lwd <span class="op">=</span> <span class="fl">1.5</span>,</span></span>
<span class="r-in"><span>          lty <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">}</span>,</span></span>
<span class="r-in"><span>      <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sensitivity</span><span class="op">$</span><span class="va">FalsePositive</span><span class="op">$</span><span class="va">x.pos</span><span class="op">[</span><span class="va">sensitivity</span><span class="op">$</span><span class="va">FalsePositive</span><span class="op">$</span><span class="va">frame</span> <span class="op">==</span> <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="circles.html">circles</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          x <span class="op">=</span> <span class="va">sensitivity</span><span class="op">$</span><span class="va">FalsePositive</span><span class="op">$</span><span class="va">x.pos</span><span class="op">[</span><span class="va">sensitivity</span><span class="op">$</span><span class="va">FalsePositive</span><span class="op">$</span><span class="va">frame</span> <span class="op">==</span> <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>          y <span class="op">=</span> <span class="va">sensitivity</span><span class="op">$</span><span class="va">FalsePositive</span><span class="op">$</span><span class="va">y.pos</span><span class="op">[</span><span class="va">sensitivity</span><span class="op">$</span><span class="va">FalsePositive</span><span class="op">$</span><span class="va">frame</span> <span class="op">==</span> <span class="va">TimeF</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>          border <span class="op">=</span> <span class="st">"blue"</span>,</span></span>
<span class="r-in"><span>          radius <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>          Res <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>          lwd <span class="op">=</span> <span class="fl">1.5</span>,</span></span>
<span class="r-in"><span>          lty <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">}</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="evalSens-1.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="evalSens-2.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="evalSens-3.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="evalSens-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## End(Not run)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://qpetitjean.github.io/qpetitjean_distill/" class="external-link">Quentin PETITJEAN</a>, <a href="https://vcalcagnoresearch.wordpress.com/" class="external-link">Vincent CALCAGNO</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

