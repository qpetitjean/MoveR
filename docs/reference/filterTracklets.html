<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Given a list of data frame containing tracking information for each tracklet and the result
of a specified condition' test as returned by filterFunc this function remove the values that do not meet the condition
of the test and split the tracklets accordingly. Also by specifying an additional &quot;minDur&quot; argument,
filtered tracklets that have a low number of records can be removed.
The function hence returns two sublist, the first containing a summary of the information about the tracklets before and after filtering
and the second containing a list with the filtered tracklets according to the condition test and &quot;minDur&quot; argument."><title>Apply a custom filter on tracklets. — filterTracklets • MoveR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Roboto-0.4.0/font.css" rel="stylesheet"><link href="../deps/_JetBrains%20Mono-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Roboto%20Slab-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Apply a custom filter on tracklets. — filterTracklets"><meta property="og:description" content="Given a list of data frame containing tracking information for each tracklet and the result
of a specified condition' test as returned by filterFunc this function remove the values that do not meet the condition
of the test and split the tracklets accordingly. Also by specifying an additional &quot;minDur&quot; argument,
filtered tracklets that have a low number of records can be removed.
The function hence returns two sublist, the first containing a summary of the information about the tracklets before and after filtering
and the second containing a list with the filtered tracklets according to the condition test and &quot;minDur&quot; argument."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MoveR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--how-to">
    <span class="fas fa fas fa-book"></span>
     
    How To
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--how-to">
    <a class="dropdown-item" href="../articles/MoveR-ImportData.html">Import Data</a>
    <a class="dropdown-item" href="../articles/MoveR-Clean-FilterData.html">Clean/Filter Data</a>
    <a class="dropdown-item" href="../articles/MoveR-ComputeMetrics.html">Compute some metrics</a>
    <a class="dropdown-item" href="../articles/MoveR-SensitivityAnalysis.html">Conduct Sensitivity Analysis</a>
    <a class="dropdown-item" href="../articles/MoveR-ParallelComputation.html">Perform Parallel Computation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fas fa fas fa-history"></span>
     
    Changelog
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/qpetitjean/MoveR/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Apply a custom filter on tracklets.</h1>
      <small class="dont-index">Source: <a href="https://github.com/qpetitjean/MoveR/blob/HEAD/R/filterTracklets.R" class="external-link"><code>R/filterTracklets.R</code></a></small>
      <div class="d-none name"><code>filterTracklets.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Given a list of data frame containing tracking information for each tracklet and the result
of a specified condition' test as returned by filterFunc this function remove the values that do not meet the condition
of the test and split the tracklets accordingly. Also by specifying an additional "minDur" argument,
filtered tracklets that have a low number of records can be removed.
The function hence returns two sublist, the first containing a summary of the information about the tracklets before and after filtering
and the second containing a list with the filtered tracklets according to the condition test and "minDur" argument.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">filterTracklets</span><span class="op">(</span><span class="va">trackDat</span>, <span class="va">filter</span>, splitCond <span class="op">=</span> <span class="cn">TRUE</span>, minDur <span class="op">=</span> <span class="fl">1</span>, progess <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>trackDat</dt>
<dd><p>A list of data frames containing tracking information for each tracklet</p></dd>


<dt>filter</dt>
<dd><p>A list of vector as returned by filterFunc and containing the result of a condition test.</p></dd>


<dt>splitCond</dt>
<dd><p>The result of the condition test for which values have to be removed and tracklets have to be splitted (Default: TRUE).</p></dd>


<dt>minDur</dt>
<dd><p>The minimum duration (i.e., number of records) to consider a tracklet valid after the filtering (default = 1).</p></dd>


<dt>progess</dt>
<dd><p>A logical value (i.e., TRUE or FALSE) indicating whether a progress bar should be displayed to inform process progression (default = TRUE).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>This function returns a list containing two sublists:</p><ul><li><p>"SummaryFiltering": a list containing a summary of the informations about the tracklets before and after filtering:
</p><ul><li><p>"Tracknb_before_filter": the initial number of tracklets.</p></li>
<li><p>"Tracknb_after_filter": the number of remaining tracklet after filtering, according to the "filter" argument.</p></li>
<li><p>"Tracknb_after_minDur": the number of remaining tracklet after filtering that have a number of records above "minDur" argument.</p></li>
<li><p>"TotTrackDuration_before_filter": the sum of the records belonging to each tracklet before the filtering.</p></li>
<li><p>"TotTrackDuration_after_filter": the sum of the records belonging to each tracklet after the filtering.</p></li>
<li><p>"TotTrackDuration_after_minDur": the sum of the records belonging to each tracklet that have a number of records above "minDur" argument after the filtering.</p></li>
<li><p>"%Data_kept_after_filter": the percent of records remaining afer the filtering.</p></li>
<li><p>"%Data_kept_after_minDur": the percent of records remaining afer the filtering for the tracklets that have a number of records above "minDur" argument only.</p></li>
</ul></li>
<li><p>"CleanedTracklets": a list of data frames containing the filtered tracklets according to the condition test specified by filterFunc and "minDur" argument.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="filterFunc.html">filterFunc</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Quentin PETITJEAN</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Not run:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download the first dataset from the sample data repository</span></span></span>
<span class="r-in"><span><span class="va">Path2Data</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="DLsampleData.html">DLsampleData</a></span><span class="op">(</span>dataSet <span class="op">=</span> <span class="fl">1</span>, tracker <span class="op">=</span> <span class="st">"TRex"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Path2Data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpIBGA5h\\MoveR_SampleData-main\\sample_1\\TRexOutput"                                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpIBGA5h\\MoveR_SampleData-main\\sample_1\\ReferenceData\\DistMatrixFromArenaEdge_2602_ISA3080_Low_5.mov_1800.txt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpIBGA5h\\MoveR_SampleData-main\\sample_1\\ReferenceData\\RefDat_2602_ISA3080_Low_5.csv"                          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Import the list containing the 9 vectors classically used for further computation</span></span></span>
<span class="r-in"><span><span class="va">Data</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="readTrex.html">readTrex</a></span><span class="op">(</span><span class="va">Path2Data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert it to a list of tracklets</span></span></span>
<span class="r-in"><span><span class="va">trackDat</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="convert2Tracklets.html">convert2Tracklets</a></span><span class="op">(</span><span class="va">Data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example 1:</span></span></span>
<span class="r-in"><span><span class="co">## test for the presence of infinite value in x.pos, if infinite values are detected, the result is TRUE</span></span></span>
<span class="r-in"><span><span class="va">FiltInf</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="filterFunc.html">filterFunc</a></span><span class="op">(</span><span class="va">trackDat</span>, toFilter <span class="op">=</span> <span class="st">"x.pos"</span>, customFunc <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/is.finite.html" class="external-link">is.infinite</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Then remove infinite values and split the tracklets when an infinite value is found</span></span></span>
<span class="r-in"><span><span class="co">## here we keep every remaining tracklet, whatever its duration (the number of record within each tracklet)</span></span></span>
<span class="r-in"><span><span class="va">trackDatNoInf</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu">filterTracklets</span><span class="op">(</span><span class="va">trackDat</span>, filter <span class="op">=</span> <span class="va">FiltInf</span>, splitCond <span class="op">=</span> <span class="cn">TRUE</span>, minDur <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check the summary of the filtering</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDatNoInf</span><span class="op">$</span><span class="va">SummaryFiltering</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_before_filter         : int 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_after_filter          : int 1938</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_after_minDur          : int 1938</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_before_filter: int 156291</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_after_filter : int 141606</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_after_minDur : int 141606</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ %Data_kept_after_filter       : num 90.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ %Data_kept_after_minDur       : num 90.6</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## take a look at the first filtered tracklet</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDatNoInf</span><span class="op">$</span><span class="va">CleanedTracklets</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	17 obs. of  7 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ maj.ax  : num  23.5 23.9 21.6 23.2 21.5 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ angle   : num  -0.733 -0.767 -0.761 -0.896 -0.88 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ min.ax  : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ x.pos   : num  2278 2273 2269 2268 2267 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ y.pos   : num  633 638 641 645 646 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ identity: num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ frame   : num  0 1 2 3 4 5 6 7 8 9 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## alternatively, we can only keep the tracklets with a duration above 10 (the number of record within each tracklet)</span></span></span>
<span class="r-in"><span><span class="co">## by modifying the minDur argument</span></span></span>
<span class="r-in"><span><span class="va">trackDatNoInfDur10</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu">filterTracklets</span><span class="op">(</span><span class="va">trackDat</span>, filter <span class="op">=</span> <span class="va">FiltInf</span>, splitCond <span class="op">=</span> <span class="cn">TRUE</span>, minDur <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check the summary of the filtering</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDatNoInfDur10</span><span class="op">$</span><span class="va">SummaryFiltering</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_before_filter         : int 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_after_filter          : int 1938</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_after_minDur          : int 790</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_before_filter: int 156291</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_after_filter : int 141606</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_after_minDur : int 139053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ %Data_kept_after_filter       : num 90.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ %Data_kept_after_minDur       : num 89</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## take a look at the first filtered tracklet</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDatNoInfDur10</span><span class="op">$</span><span class="va">CleanedTracklets</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	17 obs. of  7 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ maj.ax  : num  23.5 23.9 21.6 23.2 21.5 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ angle   : num  -0.733 -0.767 -0.761 -0.896 -0.88 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ min.ax  : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ x.pos   : num  2278 2273 2269 2268 2267 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ y.pos   : num  633 638 641 645 646 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ identity: num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ frame   : num  0 1 2 3 4 5 6 7 8 9 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example 2: test for the length of the particles:</span></span></span>
<span class="r-in"><span><span class="co">## keep only particles with a size included between 1 and 20 pixels</span></span></span>
<span class="r-in"><span><span class="co">## if particles' size is ranging between 1 and 20 pixels, the result is TRUE.</span></span></span>
<span class="r-in"><span><span class="va">FiltSize</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="filterFunc.html">filterFunc</a></span><span class="op">(</span><span class="va">trackDat</span>, toFilter <span class="op">=</span> <span class="st">"maj.ax"</span>, customFunc <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Then remove values that are not included within the [1:20] interval and split the tracklets accordingly</span></span></span>
<span class="r-in"><span><span class="co">## here we keep every remaining tracklet, whatever its duration (the number of record within each tracklet)</span></span></span>
<span class="r-in"><span><span class="va">trackDatSize20</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu">filterTracklets</span><span class="op">(</span><span class="va">trackDat</span>, filter <span class="op">=</span> <span class="va">FiltSize</span>, splitCond <span class="op">=</span> <span class="cn">TRUE</span>, minDur <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check the summary of the filtering</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDatSize20</span><span class="op">$</span><span class="va">SummaryFiltering</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_before_filter         : int 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_after_filter          : int 15534</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_after_minDur          : int 15534</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_before_filter: int 156291</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_after_filter : int 125592</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_after_minDur : int 125592</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ %Data_kept_after_filter       : num 80.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ %Data_kept_after_minDur       : num 80.4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## take a look at the first filtered tracklet</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDatSize20</span><span class="op">$</span><span class="va">CleanedTracklets</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	5 obs. of  7 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ maj.ax  : num  23.5 23.9 21.6 23.2 21.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ angle   : num  -0.733 -0.767 -0.761 -0.896 -0.88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ min.ax  : num  NA NA NA NA NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ x.pos   : num  2278 2273 2269 2268 2267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ y.pos   : num  633 638 641 645 646</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ identity: num  0 0 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ frame   : num  0 1 2 3 4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## alternatively, we can only keep the tracklets with a duration above 10 (the number of record within each tracklet) by modifying the minDur argument</span></span></span>
<span class="r-in"><span><span class="va">trackDatSize20Dur10</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu">filterTracklets</span><span class="op">(</span><span class="va">trackDat</span>, filter <span class="op">=</span> <span class="va">FiltSize</span>, splitCond <span class="op">=</span> <span class="cn">TRUE</span>, minDur <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check the summary of the filtering</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDatSize20Dur10</span><span class="op">$</span><span class="va">SummaryFiltering</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_before_filter         : int 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_after_filter          : int 15534</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Tracknb_after_minDur          : int 3256</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_before_filter: int 156291</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_after_filter : int 125592</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ TotTrackDuration_after_minDur : int 91523</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ %Data_kept_after_filter       : num 80.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ %Data_kept_after_minDur       : num 58.6</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## take a look at the first filtered tracklet</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDatSize20Dur10</span><span class="op">$</span><span class="va">CleanedTracklets</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	22 obs. of  7 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ maj.ax  : num  25 29.2 26.6 23.3 21.6 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ angle   : num  0.734 -2.527 -2.611 -2.563 0.36 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ min.ax  : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ x.pos   : num  2470 2471 2470 2469 2469 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ y.pos   : num  756 757 758 757 757 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ identity: num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ frame   : num  59 60 61 62 63 64 65 66 67 68 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## End(Not run)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://qpetitjean.github.io/qpetitjean_distill/" class="external-link">Quentin PETITJEAN</a>, <a href="https://vcalcagnoresearch.wordpress.com/" class="external-link">Vincent CALCAGNO</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

