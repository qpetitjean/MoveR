<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A tutorial about how to import raw tracking data into R env. using the MoveR package.">
<title>Import Data • MoveR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Roboto-0.4.0/font.css" rel="stylesheet">
<link href="../deps/_JetBrains%20Mono-0.4.0/font.css" rel="stylesheet">
<link href="../deps/_Roboto%20Slab-0.4.0/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Import Data">
<meta property="og:description" content="A tutorial about how to import raw tracking data into R env. using the MoveR package.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MoveR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--how-to">
    <span class="fas fa fas fa-book"></span>
     
    How To
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--how-to">
    <a class="dropdown-item" href="../articles/MoveR-ImportData.html">Import Data</a>
    <a class="dropdown-item" href="../articles/MoveR-Clean-FilterData.html">Clean/Filter Data</a>
    <a class="dropdown-item" href="../articles/MoveR-ComputeMetrics.html">Compute some metrics</a>
    <a class="dropdown-item" href="../articles/MoveR-SensitivityAnalysis.html">Conduct Sensitivity Analysis</a>
    <a class="dropdown-item" href="../articles/MoveR-ParallelComputation.html">Perform Parallel Computation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fas fa fas fa-history"></span>
     
    Changelog
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/qpetitjean/MoveR/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Import Data</h1>
            
            <h4 data-toc-skip class="date">2023-04-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/qpetitjean/MoveR/blob/HEAD/vignettes/MoveR-ImportData.Rmd" class="external-link"><code>vignettes/MoveR-ImportData.Rmd</code></a></small>
      <div class="d-none name"><code>MoveR-ImportData.Rmd</code></div>
    </div>

    
    
<p><a href="https://qpetitjean.github.io/MoveR/articles/MoveR-ImportData.html" class="external-link previous">« Previous</a><a href="https://qpetitjean.github.io/MoveR/articles/MoveR-Clean-FilterData.html" class="external-link next">Next »</a><br></p>
<p>We are starting with a basic example of importing raw data from tracking software.</p>
<p>For this example we are selecting the first sample of data available in the <a href="https://github.com/qpetitjean/MoveR_SampleData" class="external-link">MoveR_SampleData</a> github repository.</p>
<p>Briefly, this dataset come from the video recording (image resolution: 3840x2160) of 12 parasitic micro-wasps (genus <em>Trichogramma</em>) placed in a polygonal arena for 8 minutes at 25 fps (see fig. <a href="#fig:VideoPics">1</a> below) and tracked using <a href="https://trex.run" class="external-link">TRex</a> (Walter and Couzin, 2021).</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:VideoPics"></span>
<img src="https://github.com/qpetitjean/MoveR_SampleData/raw/main/sample_1/2602_ISA3080_Low_5_Compressed.gif" alt="Frames extracted from a video recording of 12 parasitic micro-wasps (genus &lt;em&gt;Trichogramma&lt;/em&gt;) placed in a polygonal arena." width="100%"><p class="caption">
Figure 1: Frames extracted from a video recording of 12 parasitic micro-wasps (genus <em>Trichogramma</em>) placed in a polygonal arena.
</p>
</div>
<div class="section level2">
<h2 id="download-sample-data-from-github">Download sample data from github<a class="anchor" aria-label="anchor" href="#download-sample-data-from-github"></a>
</h2>
<p>Now let’s download the data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># dl the first dataset from the sample data repository</span></span>
<span><span class="va">Path2Data</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/DLsampleData.html">DLsampleData</a></span><span class="op">(</span>dataSet <span class="op">=</span> <span class="fl">1</span>, tracker <span class="op">=</span> <span class="st">"TRex"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Path2Data</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpIBGA5h\\MoveR_SampleData-main\\sample_1\\TRexOutput"                                                            </span></span>
<span><span class="co">## [2] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpIBGA5h\\MoveR_SampleData-main\\sample_1\\ReferenceData\\DistMatrixFromArenaEdge_2602_ISA3080_Low_5.mov_1800.txt"</span></span>
<span><span class="co">## [3] "C:\\Users\\quent\\AppData\\Local\\Temp\\RtmpIBGA5h\\MoveR_SampleData-main\\sample_1\\ReferenceData\\RefDat_2602_ISA3080_Low_5.csv"</span></span></code></pre>
<p>The function download the data from the <a href="https://github.com/qpetitjean/MoveR_SampleData" class="external-link">MoveR_SampleData</a> github repository and returns a vector containing the path to the raw data and the distance matrix helping to locate the edge of the arena and the reference data corresponding to the location particles (manually detected) over several frames (the latters will be useful in another tutorial).</p>
<p>Note that by default the function are saving the sample data within a temporary directory that is deleted when the R session is terminated properly. User can also specify another directory using the <code>dir</code> argument from <code><a href="../reference/DLsampleData.html">DLsampleData()</a></code>.
In any case, the function look for previous occurrence of the sample data to avoid multiple downloading.</p>
</div>
<div class="section level2">
<h2 id="import-sample-data-into-r-environment">Import sample data into R environment<a class="anchor" aria-label="anchor" href="#import-sample-data-into-r-environment"></a>
</h2>
<p>Once the sample data has been downloaded or retrieved we use <code><a href="../reference/readTrex.html">readTrex()</a></code> to import the data into <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> environment.<br>
Note that the same result can be achieved trough the use of <code><a href="../reference/readCtrax.html">readCtrax()</a></code>, <code><a href="../reference/readIdtracker.html">readIdtracker()</a></code> or <code><a href="../reference/readTrackR.html">readTrackR()</a></code> depending on the input data.</p>
<p>Here the raw tracking data are located in the ./MoveR_SampleData-main/sample_1/TREXOutput directory which is the first element of the Path2Data vector.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Import the sample data</span></span>
<span><span class="va">Data</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/readTrex.html">readTrex</a></span><span class="op">(</span><span class="va">Path2Data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">Data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 9</span></span>
<span><span class="co">##  $ maj.ax    : num [1:156291] 23.5 23.9 21.6 23.2 21.5 ...</span></span>
<span><span class="co">##  $ angle     : num [1:156291] -0.733 -0.767 -0.761 -0.896 -0.88 ...</span></span>
<span><span class="co">##  $ min.ax    : num [1:156291] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ x.pos     : num [1:156291] 2278 2273 2269 2268 2267 ...</span></span>
<span><span class="co">##  $ y.pos     : num [1:156291] 633 638 641 645 646 ...</span></span>
<span><span class="co">##  $ identity  : num [1:156291] 0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ frame     : num [1:156291] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##  $ ntargets  : num [1:12024] 13 10 8 8 8 8 8 8 8 7 ...</span></span>
<span><span class="co">##  $ timestamps: num [1:12024] 0 0.04 0.08 0.12 0.16 0.2 0.24 0.28 0.32 0.36 ...</span></span></code></pre>
<p>The function import the data as a list of 9 elements that are the most useful and further used by various functions of the MoveR package.</p>
<p>Note that output of the various “read” functions is standardized. However, it is also possible to import the output as returned by the tracking software by specifying rawDat = TRUE.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Import the sample data</span></span>
<span><span class="va">DataFull</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/readTrex.html">readTrex</a></span><span class="op">(</span><span class="va">Path2Data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                  rawDat <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">DataFull</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 2</span></span>
<span><span class="co">##  $ Data_Trex    :List of 9</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:156291] 23.5 23.9 21.6 23.2 21.5 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:156291] -0.733 -0.767 -0.761 -0.896 -0.88 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:156291] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:156291] 2278 2273 2269 2268 2267 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:156291] 633 638 641 645 646 ...</span></span>
<span><span class="co">##   ..$ identity  : num [1:156291] 0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:156291] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ ntargets  : num [1:12024] 13 10 8 8 8 8 8 8 8 7 ...</span></span>
<span><span class="co">##   ..$ timestamps: num [1:12024] 0 0.04 0.08 0.12 0.16 0.2 0.24 0.28 0.32 0.36 ...</span></span>
<span><span class="co">##  $ Data_Trex_Raw:List of 31</span></span>
<span><span class="co">##   ..$ BORDER_DISTANCE#pcentroid: num [1:156291] 634 640 644 646 648 ...</span></span>
<span><span class="co">##   ..$ ACCELERATION#pcentroid   : num [1:156291] 0 5716 1187 2206 139 ...</span></span>
<span><span class="co">##   ..$ ACCELERATION#wcentroid   : num [1:156291] 0 4371 1425 2476 1215 ...</span></span>
<span><span class="co">##   ..$ SPEED#smooth#wcentroid   : num [1:156291] 0 174.9 142.4 87.5 39.4 ...</span></span>
<span><span class="co">##   ..$ ANGULAR_A#centroid       : num [1:156291] 0 4001.2 -4063.9 58 -68.1 ...</span></span>
<span><span class="co">##   ..$ ANGULAR_V#centroid       : num [1:156291] 0 160.049 -2.506 -0.185 -2.909 ...</span></span>
<span><span class="co">##   ..$ normalized_midline       : num [1:156291] -0.0717 0.145 0.1258 0.1932 -0.066 ...</span></span>
<span><span class="co">##   ..$ SPEED#wcentroid          : num [1:156291] 0 174.9 142.4 87.5 39.4 ...</span></span>
<span><span class="co">##   ..$ SPEED#pcentroid          : num [1:156291] 0 228.6 212.1 131.1 83.4 ...</span></span>
<span><span class="co">##   ..$ MIDLINE_OFFSET           : num [1:156291] -0.0801 0.1628 0.1041 0.1977 -0.0543 ...</span></span>
<span><span class="co">##   ..$ midline_length           : num [1:156291] 23.5 23.9 21.6 23.2 21.5 ...</span></span>
<span><span class="co">##   ..$ segment_length           : num [1:156291] 2.13 2.17 1.96 2.11 1.96 ...</span></span>
<span><span class="co">##   ..$ frame_segments           : num [1:7578] 0 16 29 30 31 ...</span></span>
<span><span class="co">##   ..$ segment_vxys             : num [1:551268] 1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">##   ..$ X#wcentroid              : num [1:156291] 2278 2273 2269 2268 2267 ...</span></span>
<span><span class="co">##   ..$ Y#wcentroid              : num [1:156291] 633 638 641 645 646 ...</span></span>
<span><span class="co">##   ..$ num_pixels               : num [1:156291] 173 171 174 186 169 163 172 196 193 205 ...</span></span>
<span><span class="co">##   ..$ midline_x                : num [1:156291] 2286 2281 2275 2275 2274 ...</span></span>
<span><span class="co">##   ..$ midline_y                : num [1:156291] 626 632 635 637 639 ...</span></span>
<span><span class="co">##   ..$ timestamp                : num [1:156291] 0 40000 80000 120000 160000 200000 240000 280000 320000 360000 ...</span></span>
<span><span class="co">##   ..$ missing                  : num [1:156291] 0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##   ..$ ANGLE                    : num [1:156291] -0.733 -0.767 -0.761 -0.896 -0.88 ...</span></span>
<span><span class="co">##   ..$ SPEED                    : num [1:156291] 0 43.2 39 132.8 153.4 ...</span></span>
<span><span class="co">##   ..$ frame                    : num [1:156291] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ time                     : num [1:156291] 0 0.04 0.08 0.12 0.16 ...</span></span>
<span><span class="co">##   ..$ AX                       : num [1:156291] 0 997 3282 6059 3629 ...</span></span>
<span><span class="co">##   ..$ AY                       : num [1:156291] 0 414 -4185 -3220 -4406 ...</span></span>
<span><span class="co">##   ..$ VX                       : num [1:156291] 0 39.9 16.9 121.7 123.1 ...</span></span>
<span><span class="co">##   ..$ VY                       : num [1:156291] 0 16.6 -35.1 -53.2 -91.5 ...</span></span>
<span><span class="co">##   ..$ X                        : num [1:156291] 2285 2280 2274 2273 2273 ...</span></span>
<span><span class="co">##   ..$ Y                        : num [1:156291] 628 634 637 639 641 ...</span></span></code></pre>
<p>In this case, the output of the function returns a list containing 2 sublists, the first corresponding to the one mentioned above and the second containing all the elements as returned by the tracking software.</p>
<p>Also, the argument <code>mirrorY</code>, can be used to revert the y coordinates. Indeed some tracking software sets the origin of the y axis on the bottom-left while other use the upper-left corner of the video (see <code>??readTrex()</code> for more insight).</p>
</div>
<div class="section level2">
<h2 id="convert-the-data-to-a-list-of-particles-tracks-tracklets">Convert the data to a list of particles tracks (tracklets)<a class="anchor" aria-label="anchor" href="#convert-the-data-to-a-list-of-particles-tracks-tracklets"></a>
</h2>
<p>In order to ease the readability and computation performed on tracking data, the list of elements describing the tracking output need to be converted as a list of particles tracks called tracklets.</p>
<p>To ease further computation, graphical representation and manual inspection the data are converted to a list of tracklets based on particles’ identity using <code><a href="../reference/convert2Tracklets.html">convert2Tracklets()</a></code>.
Here we use only the 7 first element of Data because the last two (i.e., ntargets and timestamps) do not carry the same amount of information and are not useful for the next steps of this tutorial.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># convert the data to a list of tracklets</span></span>
<span><span class="co"># NB: remove ntargets and timestamps because their length is lower than other variables</span></span>
<span><span class="va">trackDat</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/convert2Tracklets.html">convert2Tracklets</a></span><span class="op">(</span><span class="va">Data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span> <span class="co"># display only the 3 first tracklets</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 3</span></span>
<span><span class="co">##  $ 0:'data.frame':   12013 obs. of  7 variables:</span></span>
<span><span class="co">##   ..$ maj.ax  : num [1:12013] 23.5 23.9 21.6 23.2 21.5 ...</span></span>
<span><span class="co">##   ..$ angle   : num [1:12013] -0.733 -0.767 -0.761 -0.896 -0.88 ...</span></span>
<span><span class="co">##   ..$ min.ax  : num [1:12013] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos   : num [1:12013] 2278 2273 2269 2268 2267 ...</span></span>
<span><span class="co">##   ..$ y.pos   : num [1:12013] 633 638 641 645 646 ...</span></span>
<span><span class="co">##   ..$ identity: num [1:12013] 0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##   ..$ frame   : num [1:12013] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##  $ 1:'data.frame':   12024 obs. of  7 variables:</span></span>
<span><span class="co">##   ..$ maj.ax  : num [1:12024] 30.9 31.1 30 22.7 29.8 ...</span></span>
<span><span class="co">##   ..$ angle   : num [1:12024] 1.98 2.063 2.236 -0.942 2.328 ...</span></span>
<span><span class="co">##   ..$ min.ax  : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos   : num [1:12024] 509 509 508 506 508 ...</span></span>
<span><span class="co">##   ..$ y.pos   : num [1:12024] 636 636 635 637 635 ...</span></span>
<span><span class="co">##   ..$ identity: num [1:12024] 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##   ..$ frame   : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##  $ 2:'data.frame':   12014 obs. of  7 variables:</span></span>
<span><span class="co">##   ..$ maj.ax  : num [1:12014] 23.5 20.8 20.1 19.6 19.3 ...</span></span>
<span><span class="co">##   ..$ angle   : num [1:12014] -1.07 2.02 1.98 1.83 1.85 ...</span></span>
<span><span class="co">##   ..$ min.ax  : num [1:12014] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos   : num [1:12014] 1221 1225 1229 1232 1235 ...</span></span>
<span><span class="co">##   ..$ y.pos   : num [1:12014] 752 743 734 726 717 ...</span></span>
<span><span class="co">##   ..$ identity: num [1:12014] 2 2 2 2 2 2 2 2 2 2 ...</span></span>
<span><span class="co">##   ..$ frame   : num [1:12014] 0 1 2 3 4 5 6 7 8 9 ...</span></span></code></pre>
<p>Now we can easily look at the trajectory for a given particle by selecting its identity.
For instance, here we are displaying the data frame containing the characteristics of the first particle track.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># display the data for the first particle only</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDat</span><span class="op">[[</span><span class="st">"1"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 'data.frame':    12024 obs. of  7 variables:</span></span>
<span><span class="co">##  $ maj.ax  : num  30.9 31.1 30 22.7 29.8 ...</span></span>
<span><span class="co">##  $ angle   : num  1.98 2.063 2.236 -0.942 2.328 ...</span></span>
<span><span class="co">##  $ min.ax  : num  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ x.pos   : num  509 509 508 506 508 ...</span></span>
<span><span class="co">##  $ y.pos   : num  636 636 635 637 635 ...</span></span>
<span><span class="co">##  $ identity: num  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ frame   : num  0 1 2 3 4 5 6 7 8 9 ...</span></span></code></pre>
<p>It is then easy to look at the particles trajectories.</p>
</div>
<div class="section level2">
<h2 id="first-look-at-the-trajectories">First look at the trajectories<a class="anchor" aria-label="anchor" href="#first-look-at-the-trajectories"></a>
</h2>
<p>Using <code><a href="../reference/drawTracklets.html">drawTracklets()</a></code>, it is easy to visualize the trajectories included in the dataset (see fig. <a href="#fig:drawTracklets1">2</a>A below), or to focus on the trajectories described only by some particles, here the fifth’ first (see fig. <a href="#fig:drawTracklets1">2</a>B below).</p>
<p>Note that <code><a href="../reference/drawTracklets.html">drawTracklets()</a></code> needs an argument <code>timeCol</code> specifying the timeline of the video (here “frame”). One can also specify the resolution of the video to set x and y limits of the plot but as default, the <code>imgRes</code> argument use the maximum values recorded in x and y + 5% to set the plots limits (see drawTracklets documentation).</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># split the graphical window in 2 columns</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># draw the trajectories of all particles</span></span>
<span><span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/drawTracklets.html">drawTracklets</a></span><span class="op">(</span><span class="va">trackDat</span>,</span>
<span>                     timeCol <span class="op">=</span> <span class="st">"frame"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add a letter identifying the plot to the upper left corner of the first plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">bold</span><span class="op">(</span><span class="st">"A"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  side <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  line <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  padj <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># draw the trajectories only for the first five particles</span></span>
<span><span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/drawTracklets.html">drawTracklets</a></span><span class="op">(</span></span>
<span>  <span class="va">trackDat</span>,</span>
<span>  selTrack <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>  timeCol <span class="op">=</span> <span class="st">"frame"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add a letter identifying the plot to the upper left corner of the second plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">bold</span><span class="op">(</span><span class="st">"B"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  side <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  line <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  adj <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  padj <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:drawTracklets1"></span>
<img src="MoveR-ImportData_files/figure-html/drawTracklets1-1.png" alt="Micro-wasps trajectories over the whole video timeline, expressed in frame. A. all trajectories are represented. B. only the first 5 tracklets are represented. The trajectories are colored according to the moments at which they are recorded." width="100%"><p class="caption">
Figure 2: Micro-wasps trajectories over the whole video timeline, expressed in frame. A. all trajectories are represented. B. only the first 5 tracklets are represented. The trajectories are colored according to the moments at which they are recorded.
</p>
</div>
<p>otherwise, it is possible to focus on the trajectories recorded within a given time intervals. For instance, between 1 and 999 frames (see fig. <a href="#fig:drawTracklets2">3</a>A below) and between 6000 and 6999 frames and 11000, 11999 frames (see fig. <a href="#fig:drawTracklets2">3</a>B below).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># split the graphical window in 2 columns</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># draw the trajectories over a time window of 1000 frames (between 1 and 999 frames)</span></span>
<span><span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/drawTracklets.html">drawTracklets</a></span><span class="op">(</span></span>
<span>  <span class="va">trackDat</span>,</span>
<span>  timeWin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">999</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  timeCol <span class="op">=</span> <span class="st">"frame"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add a letter identifying the plot to the upper left corner of the first plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">bold</span><span class="op">(</span><span class="st">"A"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, side <span class="op">=</span> <span class="fl">3</span>, line <span class="op">=</span> <span class="fl">0</span>, adj <span class="op">=</span> <span class="fl">0</span>, padj <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># draw the trajectories over two time windows of 1000 frames (between 6000 and 6999 and 11000 and 11999 frames)</span></span>
<span><span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/drawTracklets.html">drawTracklets</a></span><span class="op">(</span></span>
<span>  <span class="va">trackDat</span>,</span>
<span>  timeWin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6000</span>, <span class="fl">6999</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11000</span>, <span class="fl">11999</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  timeCol <span class="op">=</span> <span class="st">"frame"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add a letter identifying the plot to the upper left corner of the second plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">bold</span><span class="op">(</span><span class="st">"B"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, side <span class="op">=</span> <span class="fl">3</span>, line <span class="op">=</span> <span class="fl">0</span>, adj <span class="op">=</span> <span class="fl">0</span>, padj <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:drawTracklets2"></span>
<img src="MoveR-ImportData_files/figure-html/drawTracklets2-1.png" alt="Micro-wasps trajectories over specified part of the video timeline, expressed in frame. A. all trajectories are represented over a time window of 1000 frames (between 1 and 999 frames). B. all trajectories are represented over two time windows of 1000 frames duration (between 6000 and 6999 and 11000 and 11999 frames). The trajectories are colored according to the moments at which they are recorded." width="100%"><p class="caption">
Figure 3: Micro-wasps trajectories over specified part of the video timeline, expressed in frame. A. all trajectories are represented over a time window of 1000 frames (between 1 and 999 frames). B. all trajectories are represented over two time windows of 1000 frames duration (between 6000 and 6999 and 11000 and 11999 frames). The trajectories are colored according to the moments at which they are recorded.
</p>
</div>
<p>Note that it is also possible to represent specified tracklets over given time window(s) by combining the <code>selFrags</code> and <code>timeWin</code> arguments respectively.</p>
<p>Finally, drawTracklets allow to color the particles’ tracks according to categorical variable, such as the identity of the particle (see fig. <a href="#fig:drawTracklets3">4</a>A below).</p>
<p>However, here the identity of the particles is a numerical variable, we hence need to convert it to a factor, for instance by appending “Tricho” (i.e., part of the micro-wasps genus name) in front of each id. For this purpose, the easiest way is to use the “convert2List” function, transform the identity variable then convert back the data as a list of tracklet using convert2Tracklets as follow:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trackDatList</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/convert2List.html">convert2List</a></span><span class="op">(</span><span class="va">trackDat</span><span class="op">)</span></span>
<span><span class="va">trackDatList</span><span class="op">[[</span><span class="st">"identity"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Tricho"</span>, <span class="va">trackDatList</span><span class="op">[[</span><span class="st">"identity"</span><span class="op">]</span><span class="op">]</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span><span class="va">trackDat</span> <span class="op">&lt;-</span> <span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/convert2Tracklets.html">convert2Tracklets</a></span><span class="op">(</span><span class="va">trackDatList</span>, by <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">trackDat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 13</span></span>
<span><span class="co">##  $ Tricho_0 :'data.frame':   12013 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12013] 23.5 23.9 21.6 23.2 21.5 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12013] -0.733 -0.767 -0.761 -0.896 -0.88 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12013] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12013] 2278 2273 2269 2268 2267 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12013] 633 638 641 645 646 ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12013] "Tricho_0" "Tricho_0" "Tricho_0" "Tricho_0" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12013] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12013] "0" "0" "0" "0" ...</span></span>
<span><span class="co">##  $ Tricho_1 :'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 30.9 31.1 30 22.7 29.8 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] 1.98 2.063 2.236 -0.942 2.328 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 509 509 508 506 508 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 636 636 635 637 635 ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_1" "Tricho_1" "Tricho_1" "Tricho_1" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "1" "1" "1" "1" ...</span></span>
<span><span class="co">##  $ Tricho_10:'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 18.6 19.4 19.2 19.6 19.3 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] 0.591 0.589 0.462 0.588 0.482 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 2442 2442 2442 2442 2442 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 2057 2056 2056 2056 2055 ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_10" "Tricho_10" "Tricho_10" "Tricho_10" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "10" "10" "10" "10" ...</span></span>
<span><span class="co">##  $ Tricho_11:'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 21.9 84.1 Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] 0.088962 0.000169 Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 2778 2715 Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 2069 2095 Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_11" "Tricho_11" "Tricho_11" "Tricho_11" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "11" "11" "11" "11" ...</span></span>
<span><span class="co">##  $ Tricho_12:'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 80.5 Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] 0.000184 Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 1356 Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 2075 Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_12" "Tricho_12" "Tricho_12" "Tricho_12" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "12" "12" "12" "12" ...</span></span>
<span><span class="co">##  $ Tricho_2 :'data.frame':   12014 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12014] 23.5 20.8 20.1 19.6 19.3 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12014] -1.07 2.02 1.98 1.83 1.85 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12014] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12014] 1221 1225 1229 1232 1235 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12014] 752 743 734 726 717 ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12014] "Tricho_2" "Tricho_2" "Tricho_2" "Tricho_2" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12014] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12014] "2" "2" "2" "2" ...</span></span>
<span><span class="co">##  $ Tricho_3 :'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 20.5 21 19.2 20.2 20 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] -1.64 1.47 1.54 1.43 1.46 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 2791 2792 2793 2793 2794 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 1215 1219 1223 1228 1232 ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_3" "Tricho_3" "Tricho_3" "Tricho_3" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "3" "3" "3" "3" ...</span></span>
<span><span class="co">##  $ Tricho_4 :'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 26 20 20 20.6 20.1 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] 0.514 0.636 0.789 0.663 0.534 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 2790 2797 2802 2809 2818 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 1404 1413 1421 1425 1429 ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_4" "Tricho_4" "Tricho_4" "Tricho_4" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "4" "4" "4" "4" ...</span></span>
<span><span class="co">##  $ Tricho_5 :'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] Inf Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] Inf Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 662 Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 2076 Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_5" "Tricho_5" "Tricho_5" "Tricho_5" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "5" "5" "5" "5" ...</span></span>
<span><span class="co">##  $ Tricho_6 :'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] Inf Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] Inf Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 854 Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 2076 Inf Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_6" "Tricho_6" "Tricho_6" "Tricho_6" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "6" "6" "6" "6" ...</span></span>
<span><span class="co">##  $ Tricho_7 :'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 21 23.4 24.8 23 24.2 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] 2.02 -1.34 -1.52 -1.58 -1.65 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 648 649 649 650 650 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 1985 1987 1991 1993 1995 ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_7" "Tricho_7" "Tricho_7" "Tricho_7" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "7" "7" "7" "7" ...</span></span>
<span><span class="co">##  $ Tricho_8 :'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 16.5 17.8 26.2 23.7 17.2 ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] 1.26 1.09 -1.73 1.18 1.17 ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 564 565 564 565 566 ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 452 459 466 471 479 ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_8" "Tricho_8" "Tricho_8" "Tricho_8" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "8" "8" "8" "8" ...</span></span>
<span><span class="co">##  $ Tricho_9 :'data.frame':   12024 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ maj.ax    : num [1:12024] 51.7 44.5 Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ angle     : num [1:12024] 0.000424 0.000558 Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ min.ax    : num [1:12024] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..$ x.pos     : num [1:12024] 2425 2429 Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ y.pos     : num [1:12024] 2097 2097 Inf Inf Inf ...</span></span>
<span><span class="co">##   ..$ identity  : chr [1:12024] "Tricho_9" "Tricho_9" "Tricho_9" "Tricho_9" ...</span></span>
<span><span class="co">##   ..$ frame     : num [1:12024] 0 1 2 3 4 5 6 7 8 9 ...</span></span>
<span><span class="co">##   ..$ trackletId: chr [1:12024] "9" "9" "9" "9" ...</span></span></code></pre>
<p>As previously noted, the various arguments from <code><a href="../reference/drawTracklets.html">drawTracklets()</a></code> can be combined to emphasize the behavior of particular tracklets over a specified time window (see fig. <a href="#fig:drawTracklets3">4</a>B below).</p>
<p><code><a href="../reference/drawTracklets.html">drawTracklets()</a></code> also have various arguments helping to customize the graphical representation, see the function documentation for further information.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># split the graphical window in 2 columns</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># draw the trajectories over the whole video timeline and color it according to particles' identity</span></span>
<span><span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/drawTracklets.html">drawTracklets</a></span><span class="op">(</span></span>
<span>  <span class="va">trackDat</span>,</span>
<span>  timeCol <span class="op">=</span> <span class="st">"frame"</span>,</span>
<span>  colId <span class="op">=</span> <span class="st">"identity"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add a letter identifying the plot to the upper left corner of the first plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">bold</span><span class="op">(</span><span class="st">"A"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, side <span class="op">=</span> <span class="fl">3</span>, line <span class="op">=</span> <span class="fl">0</span>, adj <span class="op">=</span> <span class="fl">0</span>, padj <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># draw the trajectories over two time windows of 1000 frames (between 6000 and 6999 and 11000 and 11999 frames)</span></span>
<span><span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/drawTracklets.html">drawTracklets</a></span><span class="op">(</span></span>
<span>  <span class="va">trackDat</span>,</span>
<span>  timeWin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">999</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  timeCol <span class="op">=</span> <span class="st">"frame"</span>,</span>
<span>  colId <span class="op">=</span> <span class="st">"identity"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add a letter identifying the plot to the upper left corner of the second plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">bold</span><span class="op">(</span><span class="st">"B"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, side <span class="op">=</span> <span class="fl">3</span>, line <span class="op">=</span> <span class="fl">0</span>, adj <span class="op">=</span> <span class="fl">0</span>, padj <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:drawTracklets3"></span>
<img src="MoveR-ImportData_files/figure-html/drawTracklets3-1.png" alt="Micro-wasps trajectories A. over the whole video timeline, and B. over a time window of 1000 frames (between 1 and 999 frames). Here the trajectories are colored according to the identity of the particle." width="100%"><p class="caption">
Figure 4: Micro-wasps trajectories A. over the whole video timeline, and B. over a time window of 1000 frames (between 1 and 999 frames). Here the trajectories are colored according to the identity of the particle.
</p>
</div>
<p>By looking at the fig. <a href="#fig:drawTracklets3">4</a>B, we can see that some particles’ tracks are interrupted. This is particularly obvious for Tricho_7 or Tricho_11, let’s take a closer look.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># restore the graphical window as default</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># draw the trajectories over the whole video timeline and color it according to particles' identity</span></span>
<span><span class="fu">MoveR</span><span class="fu">::</span><span class="fu"><a href="../reference/drawTracklets.html">drawTracklets</a></span><span class="op">(</span></span>
<span>  <span class="va">trackDat</span>,</span>
<span>  timeCol <span class="op">=</span> <span class="st">"frame"</span>,</span>
<span>  colId <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>  selTrack <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tricho_7"</span>,<span class="st">"Tricho_11"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:drawTracklets4"></span>
<img src="MoveR-ImportData_files/figure-html/drawTracklets4-1.png" alt="Micro-wasps trajectories for Tricho_7 and Tricho_11 over the whole video timeline." width="50%"><p class="caption">
Figure 5: Micro-wasps trajectories for Tricho_7 and Tricho_11 over the whole video timeline.
</p>
</div>
<p>Indeed, on the fig. <a href="#fig:drawTracklets4">5</a> the track of these two individuals are clearly interrupted at multiple location. It indicate that the tracking software have lost or perhaps switched the identity of some animals over the tracking session. The dataset hence need to cleaned/filtered to remove as much artifacts as possible.</p>
<p>For more insight how to use MoveR to clean and filter your dataset and then run further computation check the next tutorials.</p>
<p><strong>Happy coding.</strong></p>
<p><a href="https://qpetitjean.github.io/MoveR/articles/MoveR-ImportData.html" class="external-link previous">« Previous</a><a href="https://qpetitjean.github.io/MoveR/articles/MoveR-Clean-FilterData.html" class="external-link next">Next »</a><br></p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Walter, T., Couzin, I.D., 2021. TRex, a fast multi-animal tracking system with markerless identification, and 2D estimation of posture and visual fields. eLife 10, e64000. <a href="https://doi.org/10.7554/eLife.64000" class="external-link uri">https://doi.org/10.7554/eLife.64000</a>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://qpetitjean.github.io/qpetitjean_distill/" class="external-link">Quentin PETITJEAN</a>, <a href="https://vcalcagnoresearch.wordpress.com/" class="external-link">Vincent CALCAGNO</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
